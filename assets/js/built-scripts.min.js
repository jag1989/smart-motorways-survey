"use strict";$(function(){$("input").iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue"}),$("#personal-country").select2({width:"100%"})});var API_KEY="AIzaSyCKWRf_AtfXlToout9TVT1dFj6A-nzPX08",PROJECT_ID="project-mo-d1e7d",COLLECTION_NAME="Submissions";window.firebase.apikey=API_KEY,window.firebase.projectId=PROJECT_ID,window.firebase.collection=COLLECTION_NAME,new Vue({el:"#survey-app",data:{db:null,dbCollection:window.firebase.collection,dbApiKey:window.firebase.apikey,dbProjectId:window.firebase.projectId,validating:!1,successfulSubmission:!1},methods:{initDB:function(){var firebaseCredentials={apiKey:""+this.dbApiKey,authDomain:this.projectId+".firebaseapp.com",projectId:""+this.projectId};firebase.initializeApp(firebaseCredentials),this.db=firebase.firestore()},listSubmissions:function(){null!==this.db?this.db.collection(this.dbCollection).get().then(function(querySnapshot){querySnapshot.forEach(function(submission){console.log(submission.data())})}).catch(function(error){console.log("Error: "+error)}):console.log("No DB Connection")},addSubmission:function(jsonCollectionData){var _this=this;null!==this.db?this.db.collection(this.dbCollection).add(jsonCollectionData).then(function(submissionReference){_this.successfulSubmission=!0,console.log("Added: "+submissionReference.id),_this.listSubmissions()}).catch(function(error){console.log("Error: "+error)}):console.log("No DB Connection")},buildSubmissionData:function(){return{personal_1:"yes",personal_2:"no",personal_3:"Cheshire",personal_4:"17-24",personal_5:"12+",personal_6:"20000"}},onPrimarySubmission:function(){if(console.log("primary submission clicked"),this.validate()){var jsonSubmissionData=this.buildSubmissionData();this.addSubmission(jsonSubmissionData)}},onSecondarySubmission:function(){console.log("secondary submission clicked")},validate:function(){this.validating=!0;return!0,this.validating=!1,!0}},created:function(){this.initDB()}});